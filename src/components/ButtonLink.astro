---
interface Props {
	href: string;
	variant?: 'primary' | 'secondary' | 'ghost';
	size?: 'sm' | 'md' | 'lg';
	external?: boolean;
	class?: string;
}

const { href, variant = 'primary', size = 'md', external = false, class: className = '' } = Astro.props;

const sizeMap = {
	sm: { px: 'var(--space-4)', py: 'var(--space-2)', text: 'var(--text-sm)' },
	md: { px: 'var(--space-6)', py: 'var(--space-3)', text: 'var(--text-base)' },
	lg: { px: 'var(--space-8)', py: 'var(--space-4)', text: 'var(--text-lg)' }
};

const sizeStyle = sizeMap[size];
const variantId = `btn-${variant}-${Math.random().toString(36).substr(2, 9)}`;
---

<a 
	href={href} 
	id={variantId}
	class={`button-link button-${variant} button-${size} ${className}`}
	style={`
		padding: ${sizeStyle.py} ${sizeStyle.px};
		font-size: ${sizeStyle.text};
	`}
	{...(external && { target: '_blank', rel: 'noopener noreferrer' })}
>
	<slot />
</a>

<style>
	.button-link {
		display: inline-block;
		font-weight: var(--font-weight-medium);
		text-align: center;
		min-height: 44px;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		transition: all var(--transition-base);
		border-radius: var(--radius-sm);
		text-decoration: none;
	}
	
	.button-primary {
		background: rgb(var(--accent));
		color: white;
		border: 1px solid rgb(var(--accent));
	}
	.button-primary:hover {
		background: rgb(var(--accent) / 0.9);
		border-color: rgb(var(--accent));
		box-shadow: 0 0 0 3px rgb(var(--accent) / 0.2);
	}
	.button-primary:focus-visible {
		outline: 2px solid rgb(var(--accent));
		outline-offset: 3px;
	}
	
	.button-secondary {
		background: transparent;
		color: rgb(var(--ink));
		border: 1px solid rgb(var(--border) / 0.2);
	}
	.button-secondary:hover {
		background: rgb(var(--accent) / 0.05);
		border-color: rgb(var(--accent));
		box-shadow: 0 0 0 3px rgb(var(--accent) / 0.1);
	}
	.button-secondary:focus-visible {
		outline: 2px solid rgb(var(--accent));
		outline-offset: 3px;
	}
	
	.button-ghost {
		background: transparent;
		color: rgb(var(--muted));
		border: none;
		border-bottom: 1px solid rgb(var(--border) / 0.2);
		border-radius: 0;
	}
	.button-ghost:hover {
		color: rgb(var(--ink));
		border-bottom-color: rgb(var(--accent));
	}
	.button-ghost:focus-visible {
		outline: 2px solid rgb(var(--accent));
		outline-offset: 3px;
	}
</style>



